spring:
  application:
    name: tracker-serve
  datasource:
    # æ•°æ®åº“è¿æ¥é…ç½®
    url: jdbc:mysql://localhost:3306/link_tracker?allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC&useUnicode=true&characterEncoding=UTF-8
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver

    # ğŸš¨ ä¿®æ­£ï¼šhikari å¿…é¡»åœ¨ datasource ä¸‹çº§
    hikari:
      maximum-pool-size: 20      # æœ€å¤§è¿æ¥æ± æ•°é‡
      minimum-idle: 5            # æœ€å°ç©ºé—²è¿æ¥æ•°
      idle-timeout: 300000       # ç©ºé—²è¿æ¥å­˜æ´»æ—¶é—´
      connection-timeout: 20000  # è¿æ¥è¶…æ—¶ç­‰å¾…æ—¶é—´
      max-lifetime: 1200000      # è¿æ¥æœ€å¤§ç”Ÿå‘½å‘¨æœŸ
      pool-name: LinkTrackerHikariPool
      initialization-fail-timeout: 60000 # å¯åŠ¨æ—¶å¦‚æœè¿ä¸ä¸Šï¼ŒæŒç»­å°è¯• 60 ç§’
  data:
    redis:
      host: 192.168.100.130
      port: 6379
      password: 123321        # å¦‚æœæ²¡æœ‰å¯†ç å°±ç•™ç©º
      database: 0      # æŒ‡å®šæ•°æ®åº“ç´¢å¼•
      lettuce:
        pool:
          max-active: 20 # æœ€å¤§æ´»è·ƒè¿æ¥
          max-idle: 10   # æœ€å¤§ç©ºé—²è¿æ¥
          max-wait: -1ms # è¿æ¥åˆ†é…é˜»å¡æ—¶çš„æœ€å¤§ç­‰å¾…æ—¶é—´

  jpa:
    hibernate:
      ddl-auto: update           # è‡ªåŠ¨æ ¹æ®å®ä½“ç±»å»ºè¡¨/æ›´æ–°è¡¨
    show-sql: true               # æ§åˆ¶å°æ‰“å° SQL
    properties:
      hibernate:
        format_sql: true         # æ ¼å¼åŒ–è¾“å‡ºçš„ SQLï¼Œæ›´æ˜“è¯»
        # å¼ºåˆ¶æŒ‡å®š MySQL æ–¹è¨€ï¼Œè§£å†³æ‰¾ä¸åˆ° Dialect çš„æŠ¥é”™
        dialect: org.hibernate.dialect.MySQLDialect
jwt:
  # å¿…é¡» >= 32ä¸ªå­—ç¬¦ï¼ˆ256ä½ï¼‰ï¼Œå¦åˆ™å¯åŠ¨ä¼šæŠ¥ WeakKeyException
  secret: zeng-tracker-secure-key-ensure-length-is-over-32-bytes-please
  # è¿‡æœŸæ—¶é—´ï¼š7å¤© (1000 * 60 * 60 * 24 * 7)
  expiration: 604800000

# SpringDoc OpenAPI é…ç½®
springdoc:
  api-docs:
    path: /v3/api-docs
    enabled: true
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
    # æ˜¾ç¤ºæ“ä½œID
    display-request-duration: true
    # é»˜è®¤å±•å¼€æ‰€æœ‰æ“ä½œ
    doc-expansion: none
    # æ˜¾ç¤ºæ¨¡å‹
    show-extensions: true
    # æ˜¾ç¤ºè¯·æ±‚å¤´
    show-common-extensions: true
  # åˆ†ç»„é…ç½®ï¼ˆå¯é€‰ï¼‰
  group-configs:
    - group: 'default'
      display-name: 'æ‰€æœ‰æ¥å£'
      paths-to-match: '/**'